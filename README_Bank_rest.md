# Система управления банковскими картами
___

## Описание

API представляет собой систему управления картами пользователя.
Отдельный функционал для пользователя и для администратора.

Администратор:
- Создает, блокирует, активирует, удаляет карты
- Управляет пользователями(CRUD)
- Видит все карты

Пользователь:
- Просматривает свои карты (поиск + пагинация)
- Запрашивает блокировку карты
- Делает переводы между своими картами
- Смотрит баланс
- Делает переводы между своими картами
- Отдельная API для регистрации и логина по номеру телефона и паролю.

API поддерживает JWT-аутентификацию, миграции через Liquibase, шифрование данных и документацию через Swagger UI.
___
## Инструкция по запуску

### 1. Клонировать репозиторий
```bash
git clone https://github.com/AmanEfer/bank_rest.git
```
### 2. Создать файл .env где будут зраниться чувствительные данные, например:
```
DB_USERNAME= \\имя БД
DB_PASSWORD= \\пароль БД
ENCRYPT_SECRET_KEY= \\секретный ключ для шифрования(соль)
JWT_ACCESS_SECRET= \\секретный ключ для access token'а (HS256 или HS512)
JWT_REFRESH_SECRET= \\секретный ключ для refresh token'а (HS256 или HS512)
JWT_ACCESS_EXPIRATION= \\время жизни access token'а
JWT_REFRESH_EXPIRATION= \\время жизни refresh token'а
```

### 3. Собрать JAR
```bash
mvn clean package
```

### 4. Запустить через docker-compose
```bash
docker-compose up -d --build
```

### Остановить контейнеры
```bash
docker-compose down
```
или
```bash
docker-compose down -v
```
чтобы удалить volumes
___

## Swagger UI
После запуска перейдите по ссылке для тестирования API:
http://localhost:8080/swagger-ui/index.html

В БД уже есть дефолтный админ
```
логин: 8005553535
пароль: parol12345
```
___
